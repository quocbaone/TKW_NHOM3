<template>
    <div class="product-detail">
      <!-- üîô N√∫t quay l·∫°i -->
      <button class="back-button" @click="goBack">‚¨ÖÔ∏è Quay l·∫°i</button>
  
      <div v-if="product">
        <!-- H√¨nh ·∫£nh s·∫£n ph·∫©m -->
        <img :src="product.image" :alt="product.name" class="product-image" />
  
        <!-- T√™n s·∫£n ph·∫©m -->
        <h1>{{ product.name }}</h1>
  
        <!-- M√¥ t·∫£ s·∫£n ph·∫©m -->
        <p>{{ product.description }}</p>
  
        <!-- Gi√° s·∫£n ph·∫©m -->
        <p>Gi√°: {{ product.price }}</p>
  
        <!-- ƒê√°nh gi√° s·∫£n ph·∫©m -->
        <p>ƒê√°nh gi√°: {{ product.rating }} / 5</p>
  
        <!-- Th√™m v√†o gi·ªè h√†ng -->
        <button @click="addToCart(product)">Th√™m v√†o gi·ªè</button>
      </div>
      <div v-else>
        <p>S·∫£n ph·∫©m kh√¥ng t·ªìn t·∫°i ho·∫∑c kh√¥ng t√¨m th·∫•y!</p>
      </div>
    </div>
  </template>
  
  <script setup>
  import { useRoute, useRouter } from 'vue-router'
  import { menuItems } from '@/store/menuItems'
  import { useCartStore } from '@/store/cart'
  
  const route = useRoute()
  const router = useRouter()
  const cart = useCartStore()
  const menu = menuItems()
  
  // L·∫•y th√¥ng tin s·∫£n ph·∫©m t·ª´ route params
  const productId = parseInt(route.params.id)
  const product = menu.items.find(item => item.id === productId)
  
  // Th√™m s·∫£n ph·∫©m v√†o gi·ªè
  function addToCart(item) {
    cart.addToCart(item)
  }
  
  // üëâ H√†m quay l·∫°i trang tr∆∞·ªõc
  function goBack() {
    router.back() // ho·∫∑c router.push({ name: 'DanhSachSanPham' }) n·∫øu b·∫°n mu·ªën c·ªë ƒë·ªãnh trang quay l·∫°i
  }
  </script>
  
  <style scoped>
  .product-detail {
    text-align: center;
    padding: 20px;
  }
  
  .product-detail img {
    width: 50%;
    max-width: 400px;
    margin-bottom: 20px;
  }
  
  .product-detail h1 {
    font-size: 32px;
    margin-bottom: 10px;
  }
  
  .product-detail p {
    font-size: 18px;
    margin-bottom: 10px;
  }
  
  .product-detail button {
    padding: 10px 20px;
    background-color: #fac031;
    border: none;
    border-radius: 6px;
    cursor: pointer;
  }
  
  .product-detail button:hover {
    background-color: #f5a623;
  }
  
  .back-button {
    margin-bottom: 20px;
    padding: 10px 16px;
    background-color: #ddd;
    border: none;
    border-radius: 6px;
    cursor: pointer;
    font-size: 16px;
  }
  </style>
  